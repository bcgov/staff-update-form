{"ast":null,"code":"// src/pdfGenerator.js\nimport jsPDF from 'jspdf';\nimport html2canvas from 'html2canvas';\nexport async function generatePDF() {\n  const formElement = document.getElementById('form-to-pdf');\n  if (!formElement) {\n    console.error('generatePDF error: form element not found');\n    return;\n  }\n  const canvas = await html2canvas(formElement, {\n    scale: window.devicePixelRatio ? window.devicePixelRatio * 1.5 : 2,\n    useCORS: true,\n    letterRendering: true,\n    onclone: clonedDoc => {\n      const clonedForm = clonedDoc.getElementById('form-to-pdf');\n      if (!clonedForm) return;\n\n      // 1) apply our print‑form overrides\n      clonedForm.classList.add('print-form');\n\n      // 2) auto‑resize every textarea to its content height\n      clonedForm.querySelectorAll('textarea').forEach(ta => {\n        ta.style.height = 'auto';\n        ta.style.height = `${ta.scrollHeight}px`;\n      });\n    }\n  });\n  const imgData = canvas.toDataURL('image/png');\n  const pdf = new jsPDF('p', 'mm', 'a4');\n  const pdfWidth = pdf.internal.pageSize.getWidth();\n  const pdfHeight = canvas.height * pdfWidth / canvas.width;\n  pdf.addImage(imgData, 'PNG', 0, 0, pdfWidth, pdfHeight);\n  pdf.save('form.pdf');\n}","map":{"version":3,"names":["jsPDF","html2canvas","generatePDF","formElement","document","getElementById","console","error","canvas","scale","window","devicePixelRatio","useCORS","letterRendering","onclone","clonedDoc","clonedForm","classList","add","querySelectorAll","forEach","ta","style","height","scrollHeight","imgData","toDataURL","pdf","pdfWidth","internal","pageSize","getWidth","pdfHeight","width","addImage","save"],"sources":["C:/development/staff-update-form/client/src/pdfGenerator.js"],"sourcesContent":["// src/pdfGenerator.js\r\nimport jsPDF from 'jspdf';\r\nimport html2canvas from 'html2canvas';\r\n\r\nexport async function generatePDF() {\r\n  const formElement = document.getElementById('form-to-pdf');\r\n  if (!formElement) {\r\n    console.error('generatePDF error: form element not found');\r\n    return;\r\n  }\r\n\r\n  const canvas = await html2canvas(formElement, {\r\n    scale: window.devicePixelRatio ? window.devicePixelRatio * 1.5 : 2,\r\n    useCORS: true,\r\n    letterRendering: true,\r\n    onclone: (clonedDoc) => {\r\n      const clonedForm = clonedDoc.getElementById('form-to-pdf');\r\n      if (!clonedForm) return;\r\n\r\n      // 1) apply our print‑form overrides\r\n      clonedForm.classList.add('print-form');\r\n\r\n      // 2) auto‑resize every textarea to its content height\r\n      clonedForm.querySelectorAll('textarea').forEach((ta) => {\r\n        ta.style.height = 'auto';\r\n        ta.style.height = `${ta.scrollHeight}px`;\r\n      });\r\n    },\r\n  });\r\n\r\n  const imgData = canvas.toDataURL('image/png');\r\n  const pdf = new jsPDF('p', 'mm', 'a4');\r\n  const pdfWidth = pdf.internal.pageSize.getWidth();\r\n  const pdfHeight = (canvas.height * pdfWidth) / canvas.width;\r\n  pdf.addImage(imgData, 'PNG', 0, 0, pdfWidth, pdfHeight);\r\n  pdf.save('form.pdf');\r\n}\r\n"],"mappings":"AAAA;AACA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,WAAW,MAAM,aAAa;AAErC,OAAO,eAAeC,WAAWA,CAAA,EAAG;EAClC,MAAMC,WAAW,GAAGC,QAAQ,CAACC,cAAc,CAAC,aAAa,CAAC;EAC1D,IAAI,CAACF,WAAW,EAAE;IAChBG,OAAO,CAACC,KAAK,CAAC,2CAA2C,CAAC;IAC1D;EACF;EAEA,MAAMC,MAAM,GAAG,MAAMP,WAAW,CAACE,WAAW,EAAE;IAC5CM,KAAK,EAAEC,MAAM,CAACC,gBAAgB,GAAGD,MAAM,CAACC,gBAAgB,GAAG,GAAG,GAAG,CAAC;IAClEC,OAAO,EAAE,IAAI;IACbC,eAAe,EAAE,IAAI;IACrBC,OAAO,EAAGC,SAAS,IAAK;MACtB,MAAMC,UAAU,GAAGD,SAAS,CAACV,cAAc,CAAC,aAAa,CAAC;MAC1D,IAAI,CAACW,UAAU,EAAE;;MAEjB;MACAA,UAAU,CAACC,SAAS,CAACC,GAAG,CAAC,YAAY,CAAC;;MAEtC;MACAF,UAAU,CAACG,gBAAgB,CAAC,UAAU,CAAC,CAACC,OAAO,CAAEC,EAAE,IAAK;QACtDA,EAAE,CAACC,KAAK,CAACC,MAAM,GAAG,MAAM;QACxBF,EAAE,CAACC,KAAK,CAACC,MAAM,GAAG,GAAGF,EAAE,CAACG,YAAY,IAAI;MAC1C,CAAC,CAAC;IACJ;EACF,CAAC,CAAC;EAEF,MAAMC,OAAO,GAAGjB,MAAM,CAACkB,SAAS,CAAC,WAAW,CAAC;EAC7C,MAAMC,GAAG,GAAG,IAAI3B,KAAK,CAAC,GAAG,EAAE,IAAI,EAAE,IAAI,CAAC;EACtC,MAAM4B,QAAQ,GAAGD,GAAG,CAACE,QAAQ,CAACC,QAAQ,CAACC,QAAQ,CAAC,CAAC;EACjD,MAAMC,SAAS,GAAIxB,MAAM,CAACe,MAAM,GAAGK,QAAQ,GAAIpB,MAAM,CAACyB,KAAK;EAC3DN,GAAG,CAACO,QAAQ,CAACT,OAAO,EAAE,KAAK,EAAE,CAAC,EAAE,CAAC,EAAEG,QAAQ,EAAEI,SAAS,CAAC;EACvDL,GAAG,CAACQ,IAAI,CAAC,UAAU,CAAC;AACtB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}